{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bruno Megharba\\\\OneDrive\\\\Documents\\\\GSBAPP\\\\GSBFront-main\\\\src\\\\components\\\\createBill\\\\CreateBill.js\";\nimport React from 'react';\nimport './CreateBill.css';\nimport { withRouter } from \"react-router-dom\";\nimport * as fromBillsApi from '../../api/bills';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateBill extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fraishorsforfait: [],\n      nightsQty: 0,\n      repasQty: 0,\n      kmQty: 0,\n      date: '',\n      anneeMois: ''\n    };\n  }\n\n  handleChange(e) {\n    e.preventDefault();\n    let name = e.target.name;\n    this.setState({\n      [name]: e.target.value\n    });\n  }\n\n  handleRowsChange(e, i) {\n    e.preventDefault();\n    let {\n      name,\n      value\n    } = e.target;\n    let fraishorsforfait = [...this.state.fraishorsforfait];\n    fraishorsforfait[i] = { ...fraishorsforfait[i],\n      [name]: value\n    };\n    this.setState({\n      fraishorsforfait: fraishorsforfait\n    }, () => console.log(this.state.fraishorsforfait));\n  }\n\n  addRows() {\n    this.setState({\n      fraishorsforfait: [...this.state.fraishorsforfait, {\n        date: '',\n        libelle: '',\n        montant: '',\n        justificatif: ''\n      }]\n    });\n  }\n\n  removeRows(i) {\n    let row = this.state.fraishorsforfait;\n    row.splice(i, 1);\n    this.setState({\n      fraishorsforfait: row\n    });\n  }\n\n  async postFiche() {\n    let idUser = localStorage.getItem('id');\n    let fiche = await fromBillsApi.postAddFiche({\n      idutilisateur: idUser,\n      mois: this.state.anneeMois,\n      nbJustificatifs: '5',\n      montantValide: '70.00',\n      dateModif: '2021-04-04',\n      idEtat: 'CR'\n    });\n    let km = await fromBillsApi.postLigneFraisForfait({\n      idutilisateur: idUser,\n      mois: this.state.anneeMois,\n      idFraisForfait: 'KM',\n      quantite: this.state.kmQty\n    });\n    let night = await fromBillsApi.postLigneFraisForfait({\n      idutilisateur: idUser,\n      mois: this.state.anneeMois,\n      idFraisForfait: 'NUI',\n      quantite: this.state.nightsQty\n    });\n    let meals = await fromBillsApi.postLigneFraisForfait({\n      idutilisateur: idUser,\n      mois: this.state.anneeMois,\n      idFraisForfait: 'REP',\n      quantite: this.state.repasQty\n    });\n    this.state.fraishorsforfait.map(async (f, i) => {\n      let horsforfait = await fromBillsApi.postLigneFraisHorsForfait({\n        idutilisateur: idUser,\n        mois: this.state.anneeMois,\n        libelle: f.libelle,\n        date: f.date,\n        montant: f.montant,\n        justificatif: f.libelle\n      });\n    });\n    this.props.history.push('/accueil');\n  }\n\n  async componentDidMount() {\n    let months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];\n    let numMonth = new Date().getMonth();\n    let year = new Date().getFullYear();\n    let monthText;\n    months.map((month, i) => {\n      if (i == numMonth) monthText = month;\n    });\n    let tabMois = ['01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12'];\n    let numMois = new Date().getMonth();\n    let mois;\n    tabMois.map((num, i) => {\n      if (i == numMois) mois = num;\n    });\n    this.setState({\n      date: ` de ${monthText} ${year}`,\n      anneeMois: year + mois\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"text-center pt100\",\n          children: [\"Fiche de remboursement du mois \", this.state.date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"ligne\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"centrer\",\n          children: \"Frais Forfait \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card border-primary\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Frais \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Quantit\\xE9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Montant unitaire\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"form-control-label\",\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Nuit\\xE9es\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 87\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"nightsQty\",\n                      placeholder: \"Qt\\xE9\",\n                      value: this.state.nightsQty,\n                      onChange: e => this.handleChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"80\\u20AC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [this.state.nightsQty * 80, \"\\u20AC\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      for: \"\",\n                      className: \"form-control-label\",\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Repas\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 94\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"repasQty\",\n                      placeholder: \"Qt\\xE9\",\n                      value: this.state.repasQty,\n                      onChange: e => this.handleChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 132,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"29\\u20AC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: this.state.repasQty * 29\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"label\", {\n                      for: \"\",\n                      className: \"form-control-label\",\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Kilom\\xE9trage\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 137,\n                        columnNumber: 94\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"kmQty\",\n                      placeholder: \"Qt\\xE9\",\n                      value: this.state.kmQty,\n                      onChange: e => this.handleChange(e)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 138,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: \"0.6\\u20AC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: this.state.kmQty * 0.6\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"centrer\",\n          children: \"Frais Hors Forfait \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card border-primary\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-success btn-sm\",\n              onClick: () => this.addRows(),\n              children: \"Ajoutez un frais hors forfait\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Dates\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Libell\\xE9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Montant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \" Justificatifs\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \" Actions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: this.state.fraishorsforfait.map((f, i) => {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        name: \"date\",\n                        value: this.state.fraishorsforfait[i].date,\n                        onChange: e => this.handleRowsChange(e, i)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        placeholder: \"Libell\\xE9\",\n                        name: \"libelle\",\n                        value: this.state.fraishorsforfait[i].libelle,\n                        onChange: e => this.handleRowsChange(e, i)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text   \",\n                        placeholder: \"Montant\",\n                        name: \"montant\",\n                        value: this.state.fraishorsforfait[i].montant,\n                        onChange: e => this.handleRowsChange(e, i)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 171,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        name: \"justificatif\",\n                        value: this.state.fraishorsforfait[i].justificatif,\n                        onChange: e => this.handleRowsChange(e, i)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 172,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-danger btn-sm mr-2\",\n                        \"data-action\": \"delete\",\n                        onClick: () => this.removeRows(i),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-trash\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 175,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 174,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 173,\n                      columnNumber: 57\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 53\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            class: \"btn btn-primary mt-3 mb-3\",\n            onClick: () => this.postFiche(),\n            children: \"Cr\\xE9er la fiche \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(CreateBill);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/Bruno Megharba/OneDrive/Documents/GSBAPP/GSBFront-main/src/components/createBill/CreateBill.js"],"names":["React","withRouter","fromBillsApi","CreateBill","Component","constructor","props","state","fraishorsforfait","nightsQty","repasQty","kmQty","date","anneeMois","handleChange","e","preventDefault","name","target","setState","value","handleRowsChange","i","console","log","addRows","libelle","montant","justificatif","removeRows","row","splice","postFiche","idUser","localStorage","getItem","fiche","postAddFiche","idutilisateur","mois","nbJustificatifs","montantValide","dateModif","idEtat","km","postLigneFraisForfait","idFraisForfait","quantite","night","meals","map","f","horsforfait","postLigneFraisHorsForfait","history","push","componentDidMount","months","numMonth","Date","getMonth","year","getFullYear","monthText","month","tabMois","numMois","num","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './CreateBill.css'\nimport {withRouter } from \"react-router-dom\";\nimport * as fromBillsApi from '../../api/bills'\n\n\nclass CreateBill extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            fraishorsforfait: [],\n            nightsQty:0,\n            repasQty:0,\n            kmQty:0,\n            date:'',\n            anneeMois:''            \n        }\n\n    }\n\n    handleChange(e){\n        e.preventDefault()\n        let name = e.target.name\n        this.setState({\n            [name]: e.target.value\n        })\n    }\n\n    handleRowsChange(e, i){\n        e.preventDefault()\n        let {name, value } = e.target\n        let fraishorsforfait = [...this.state.fraishorsforfait]\n        fraishorsforfait[i] = {\n            ...fraishorsforfait[i],\n            [name] : value\n        }\n        this.setState({\n            fraishorsforfait : fraishorsforfait    \n        }, () => console.log(this.state.fraishorsforfait))\n    }\n\n    addRows() {\n        this.setState({\n            fraishorsforfait: [...this.state.fraishorsforfait, {date: '', libelle: '', montant: '', justificatif: '' }]\n        })\n    }\n    removeRows(i){\n        let row = this.state.fraishorsforfait\n        row.splice(i,1)\n        this.setState({\n            fraishorsforfait:row\n        })\n    }\n\n    \n\n    async postFiche(){\n        let idUser = localStorage.getItem('id')\n        let fiche = await fromBillsApi.postAddFiche({idutilisateur : idUser, mois: this.state.anneeMois, nbJustificatifs : '5', montantValide : '70.00', dateModif : '2021-04-04', idEtat : 'CR'})\n        let km = await fromBillsApi.postLigneFraisForfait({idutilisateur : idUser, mois: this.state.anneeMois, idFraisForfait : 'KM', quantite : this.state.kmQty})\n        let night = await fromBillsApi.postLigneFraisForfait({idutilisateur : idUser, mois: this.state.anneeMois, idFraisForfait : 'NUI', quantite : this.state.nightsQty})\n        let meals = await fromBillsApi.postLigneFraisForfait({idutilisateur : idUser, mois: this.state.anneeMois, idFraisForfait : 'REP', quantite : this.state.repasQty})\n        this.state.fraishorsforfait.map(async (f,i) => {\n            let horsforfait = await fromBillsApi.postLigneFraisHorsForfait({idutilisateur : idUser, mois: this.state.anneeMois, libelle : f.libelle, date : f.date, montant : f.montant, justificatif : f.libelle})\n\n        })\n        \n        this.props.history.push('/accueil')\n        \n    }\n\n\n\n    async componentDidMount() {\n        \n        let months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre']\n        let numMonth = new Date().getMonth()\n        let year = new Date().getFullYear()\n        let monthText\n        months.map((month, i) => {\n            if(i == numMonth) monthText = month\n        })\n\n\n        let tabMois = ['01','02', '03', '04', '05', '06','07','08','09','10','11','12',]\n        let numMois = new Date().getMonth()\n        let mois \n        tabMois.map((num, i) => {\n            if (i == numMois) mois = num\n        })\n            \n        this.setState({\n            date : ` de ${monthText} ${year}`,\n            anneeMois : year + mois\n        })\n\n    }\n\n\n\n    render() {\n        return (\n            <main className=\"flex-shrink-0\">\n                <div className=\"container\">\n                \n                    <h1 class=\"text-center pt100\">\n                        Fiche de remboursement du mois {this.state.date}\n                    </h1>\n                        <hr className=\"ligne\"/>                    \n                        <h5 className=\"centrer\">Frais Forfait </h5>\n                        <div className=\"card border-primary\">\n                            <div className=\"card-body\">\n                                <table className=\"table text-center\">\n                                    <thead>\n                                        <tr>\n                                            <th scope=\"col\">Frais </th>\n                                            <th scope=\"col\">Quantité</th>\n                                            <th scope=\"col\">Montant unitaire</th>\n                                            <th scope=\"col\">Total</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr>\n                                            <td><label className=\"form-control-label\"><strong>Nuitées</strong></label></td>\n                                            <td><input type=\"text\" name=\"nightsQty\" placeholder=\"Qté\" value={this.state.nightsQty} onChange={(e) => this.handleChange(e)} /></td>\n                                            <td>80€</td>\n                                            <td>{this.state.nightsQty * 80}€</td>\n                                        </tr>\n                                        <tr>\n                                            <td><label for=\"\" className=\"form-control-label\"><strong>Repas</strong></label></td>\n                                            <td><input type=\"text\" name=\"repasQty\" placeholder=\"Qté\" value={this.state.repasQty} onChange={(e) => this.handleChange(e)} /></td>\n                                            <td>29€</td>\n                                            <td>{this.state.repasQty * 29}</td>\n                                        </tr>\n                                        <tr>\n                                            <td><label for=\"\" className=\"form-control-label\"><strong>Kilométrage</strong></label></td>\n                                            <td><input type=\"text\" name=\"kmQty\" placeholder=\"Qté\" value={this.state.kmQty} onChange={(e) => this.handleChange(e)}/></td>\n                                            <td>0.6€</td>\n                                            <td>{this.state.kmQty * 0.6}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n\n                        <br />\n                        <h5 className=\"centrer\">Frais Hors Forfait </h5>\n                        <div className=\"card border-primary\">\n                            <div className=\"card-body\">\n                            <button type=\"button\" className=\"btn btn-success btn-sm\" onClick={() => this.addRows()}>Ajoutez un frais hors forfait</button>\n                                <table className=\"table text-center\">\n                                    <thead>                                \n                                    \n                                        <tr>\n                                            <th scope=\"col\">Dates</th>\n                                            <th scope=\"col\">Libellé</th>\n                                            <th scope=\"col\">Montant</th>\n                                            <th scope=\"col\"> Justificatifs</th>\n                                            <th scope=\"col\"> Actions</th>\n                                        </tr>\n                                    </thead>\n                                    \n                                    <tbody>\n                                        {\n                                             this.state.fraishorsforfait.map((f, i) => {\n                                                return (\n                                                    <tr key={i}>\n                                                        <td><input type=\"date\" name=\"date\" value={this.state.fraishorsforfait[i].date} onChange={(e) => this.handleRowsChange(e,i)}/></td>\n                                                        <td><input type=\"text\" placeholder=\"Libellé\" name=\"libelle\" value={this.state.fraishorsforfait[i].libelle} onChange={(e) => this.handleRowsChange(e,i)}/></td>\n                                                        <td><input type=\"text   \" placeholder=\"Montant\" name=\"montant\" value={this.state.fraishorsforfait[i].montant} onChange={(e) => this.handleRowsChange(e,i)}/></td>\n                                                        <td><input type=\"file\" name=\"justificatif\" value={this.state.fraishorsforfait[i].justificatif} onChange={(e) => this.handleRowsChange(e,i)}/></td>\n                                                        <td>\n                                                            <button type=\"button\" className=\"btn btn-danger btn-sm mr-2\" data-action=\"delete\" onClick={() => this.removeRows(i)}>\n                                                                <i className=\"fas fa-trash\"></i>\n                                                            </button>\n                                                        </td>\n                                                    </tr>\n                                                )\n                                            })\n                                        }   \n\n                                    </tbody>\n                                </table>\n                                \n                            </div>\n                        </div>\n                                <div class=\"col text-center\">\n                                    <button type=\"submit\" class=\"btn btn-primary mt-3 mb-3\" onClick={() => this.postFiche()}>Créer la fiche </button>\n                                </div>\n                    \n                    </div>\n\n        </main>\n        )\n    }\n}\n\nexport default withRouter(CreateBill);"]},"metadata":{},"sourceType":"module"}